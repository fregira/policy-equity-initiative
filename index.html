<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Policy Equity Initiative – VUL Policy Review Request</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 1.6rem;
            color: #1a3d6d;
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            font-style: italic;
            margin-bottom: 30px;
        }

        .confidential {
            background-color: #e3f2fd;
            padding: 15px;
            border-left: 4px solid #1a3d6d;
            font-size: 0.95rem;
            margin-bottom: 20px;
            color: #1a3d6d;
        }

        label {
            display: block;
            margin-top: 15px;
            margin-bottom: 5px;
            font-weight: 600;
            color: #1a3d6d;
        }

        input[type="text"],
        input[type="email"],
        input[type="number"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1rem;
            box-sizing: border-box;
        }

        .checkbox-group {
            margin: 10px 0;
        }

        .checkbox-item {
            margin: 5px 0;
        }

        .checkbox-item input {
            width: auto;
            margin-right: 8px;
        }

        button {
            margin-top: 25px;
            padding: 12px 20px;
            background-color: #1a3d6d;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
        }

        button:hover {
            background-color: #132b4a;
        }

        button:disabled {
            background-color: #cccccc !important;
            cursor: not-allowed !important;
        }

        .disclaimer {
            font-size: 0.85rem;
            color: #555;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .required {
            color: red;
        }

        fieldset {
            border: 1px solid #eee;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            position: relative;
        }

        fieldset.error {
            border-color: #d32f2f !important;
            background-color: #fef5f5;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        fieldset.error .error-indicator {
            display: block !important;
        }

        .error-indicator {
            display: none;
            position: absolute;
            top: -10px;
            right: 15px;
            background-color: #d32f2f;
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 10;
        }

        .error-indicator::before {
            content: "⚠ ";
        }

        legend {
            font-weight: bold;
            color: #1a3d6d;
            position: relative;
        }

        .email-instructions {
            background: #fff8e1;
            padding: 15px;
            border: 1px solid #ffd54f;
            border-radius: 6px;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .error-message {
            color: #d32f2f;
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
            background-color: #fef5f5;
            padding: 15px;
            border: 1px solid #d32f2f;
            border-radius: 6px;
        }

        .error-message ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .error-message li {
            margin: 5px 0;
            cursor: pointer;
            text-decoration: underline;
        }

        .error-message li:hover {
            color: #b71c1c;
        }

        .success-message {
            background-color: #e8f5e8;
            border: 1px solid #c8e6c9;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }

        /* Highlight invalid fields */
        input:invalid:not(:focus),
        select:invalid:not(:focus) {
            border-color: #d32f2f;
            background-color: #fef5f5;
        }

        /* Fix for radio button groups */
        .radio-group-error {
            border: 1px solid #d32f2f;
            background-color: #fef5f5;
            border-radius: 4px;
            padding: 10px;
            margin: 5px 0;
        }
    </style>
</head>

<body>

    <!-- Intro Section -->
    <div class="intro-section"
        style="max-width: 800px; margin: 40px auto; padding: 30px; font-family: 'Segoe UI', sans-serif; line-height: 1.7; color: #333;">
        <h1 style="color: #1a3d6d; text-align: center;">Is Your VUL Policy Underperforming?</h1>

        <p>
            The <strong>Policy Equity Initiative</strong> is created to address the widespread financial harm caused by
            poorly performing Variable Universal Life (VUL) insurance policies in the Philippines. What many
            policyholders
            experience, such as declining cash value, rising costs, and unmet expectations, is not an isolated issue. It
            is a
            <strong>systemic pattern</strong> affecting thousands.
        </p>

        <p>
            After reviewing hundreds of active, up-to-date VUL policies, we have found a consistent set of problems that
            put
            policy owners at a long-term disadvantage:
        </p>

        <ul style="background: #f8f9fa; padding: 15px 20px; border-left: 4px solid #d9534f; border-radius: 4px;">
            <li><strong>Fees have consumed years of premiums</strong>, leaving little to grow in cash value.</li>
            <li><strong>Most policies are far behind break-even</strong>, with little realistic chance of recovery, even
                with continued payments.</li>
            <li><strong>The only payout comes at death</strong>, which does nothing for living policyholders who need
                immediate financial relief.</li>
            <li><strong>Misselling is common</strong>. Policies were presented as investment or savings tools, with
                little
                emphasis on the insurance cost or risks.</li>
        </ul>

        <p style="font-style: italic; background: #e8f5fd; padding: 15px; border-radius: 6px;">
            <strong>If this sounds familiar</strong>, you are not alone. You may be experiencing the same structural
            issues
            that this initiative was designed to study and help address.
        </p>

        <div
            style="text-align: center; margin: 25px 0; padding: 20px; background: #fff; border: 2px solid #1a3d6d; border-radius: 8px;">
            <h2 style="color: #1a3d6d; margin: 0;">Is this what is happening to your VUL policy?</h2>
            <p style="margin: 10px 0; font-size: 1.1rem;">
                If you have paid consistently but seen little growth, high fees, or shrinking value,
                <strong>you deserve better!</strong>
            </p>
        </div>

        <p>
            By submitting a request, you will receive a <strong>free and unbiased review</strong> of your policy from
            licensed FA's from your selected provider. Their review will include:
        </p>

        <ul>
            <li>A comparison of your policy's <strong>actual versus promised performance</strong></li>
            <li>A breakdown of <strong>fees, charges, and fund performance</strong></li>
            <li>An assessment of whether your policy still meets your financial goals</li>
            <li>Options for <strong>restructuring</strong> to improve affordability and value</li>
        </ul>

        <p style="text-align: center; margin: 30px 0;">
            <strong>This program DOES NOT guarantee positive outcome</strong>, but every applicant receives a
            professional
            review they can use to make informed decisions or discuss changes with their insurer.
        </p>

        <p style="text-align: center;">
            <a href="#vulReviewForm" style="
        display: inline-block;
        background-color: #1a3d6d;
        color: white;
        padding: 14px 30px;
        font-size: 1.1rem;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 600;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      ">Proceed to Request Your Free Policy Review</a>
        </p>

        <p style="font-size: 0.9rem; color: #666; text-align: center; margin-top: 20px;">
            This initiative is launched by R2 Solutions and operates independently of any insurance company. It does not
            provide financial nor investment advice.
        </p>
    </div>

    <!-- Form Section -->
    <div class="container">
        <h1>POLICY EQUITY INITIATIVE</h1>
        <p class="subtitle">Request for Independent VUL Policy Review</p>

        <div class="confidential">
            🔒 <strong>CONFIDENTIAL SUBMISSION</strong><br>
            All information is handled with strict confidentiality and used solely for policy analysis.
        </div>

        <p>
            By submitting this form, you will receive a <strong>comprehensive audit</strong> of your Variable Universal
            Life (VUL) policy. This includes a policy performance, cost analysis, and options for improving
            affordability or structure.
        </p>

        <!-- Error message container -->
        <div id="errorMessage" class="error-message">
            <strong>Please complete the following sections:</strong>
            <ul id="errorList"></ul>
            <p><em>Click on any section above to jump directly to it.</em></p>
        </div>

        <!-- Success message container -->
        <div id="successMessage" class="success-message">
            <h2>Thank You!</h2>
            <p>Your request has been submitted successfully.</p>
            <p>Next steps:</p>
            <ol style="text-align: left; display: inline-block;">
                <li>You will receive a confirmation from the system (check spam/junk folder).</li>
                <li>Email your <strong>redacted documents</strong> to:
                    <a href="mailto:reliable.resource.02@gmail.com">reliable.resource.02@gmail.com</a>
                </li>
                <li>A licensed FA from your selected provider will contact you within 7–10 business days.</li>
            </ol>
            <p><strong>Note:</strong> No financial assistance is guaranteed. This program provides independent reviews only.</p>
            <p>For inquiries, contact R2 Solutions.</p>
        </div>

        <form id="vulReviewForm" action="https://formspree.io/f/mdklaynz" method="POST" novalidate>

            <!-- Applicant Information -->
            <fieldset id="section-applicant">
                <div class="error-indicator">Missing Info</div>
                <legend>Applicant Information</legend>

                <label for="fullName">Full Name <span class="required">*</span></label>
                <input type="text" id="fullName" name="fullName" placeholder="e.g. Maria Santos" required />

                <label>Preferred Communication Method <span class="required">*</span></label>
                <div class="checkbox-group" id="contactMethodGroup">
                    <div class="checkbox-item">
                        <input type="radio" name="preferredContact" value="email" id="contact_email" required> 
                        <label for="contact_email" style="display: inline; margin: 0;">Email</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="radio" name="preferredContact" value="phone" id="contact_phone"> 
                        <label for="contact_phone" style="display: inline; margin: 0;">Phone</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="radio" name="preferredContact" value="mail" id="contact_mail"> 
                        <label for="contact_mail" style="display: inline; margin: 0;">Mail</label>
                    </div>
                </div>

                <!-- Dynamic Contact Field -->
                <div id="contactField" style="margin-top: 15px; display: none;">
                    <label id="contactLabel"></label>
                    <input type="text" id="contactInput" name="contactDetail" placeholder="" />
                </div>
            </fieldset>

            <!-- Preferred Representative -->
            <fieldset id="section-provider">
                <div class="error-indicator">Missing Info</div>
                <legend>Preferred Insurance Provider Representative</legend>
                <p>Select the insurance provider you'd like to involve in your policy review.</p>

                <label for="preferredProvider">Insurance Provider <span class="required">*</span></label>
                <select id="preferredProvider" name="preferredProvider" required>
                    <option value="">-- Select Provider --</option>
                    <option value="allianz">Allianz</option>
                    <option value="axa">AXA Philippines</option>
                    <option value="chubb">Chubb Life</option>
                    <option value="generali">Generali Philippines</option>
                    <option value="manulife">Manulife Philippines</option>
                    <option value="mapfre">MAPFRE Life</option>
                    <option value="philamlife">Philam Life</option>
                    <option value="pru">Prudential Life Insurance Co.</option>
                    <option value="sunlife">Sun Life of New York (Philippines)</option>
                    <option value="tataaig">Tata AIG Life</option>
                    <option value="fwd">FWD Philippines</option>
                    <option value="other">Other (please specify)</option>
                </select>

                <!-- Other Provider Input -->
                <div id="otherProviderField" style="display:none; margin-top:15px;">
                    <label for="otherProvider">Please specify the insurance company</label>
                    <input type="text" id="otherProvider" name="otherProvider" placeholder="e.g. ABC Insurance Inc." />
                </div>

                <p style="font-size: 0.9rem; color: #555; margin-top: 5px;">
                    <strong>Note:</strong> Review can take at least 7 to 10 business days before you can receive a
                    response, this could take even longer if you opted traditional mail as your communication method.
                </p>
            </fieldset>

            <!-- Policy Information -->
            <fieldset id="section-policy">
                <div class="error-indicator">Missing Info</div>
                <legend>Policy Information</legend>
                <label for="insuranceCompany">Insurance Company <span class="required">*</span></label>
                <select id="insuranceCompany" name="insuranceCompany" required>
                    <option value="">-- Select Insurance Company --</option>
                    <option value="allianz">Allianz</option>
                    <option value="axa">AXA Philippines</option>
                    <option value="chubb">Chubb Life</option>
                    <option value="fwd">FWD Philippines</option>
                    <option value="generali">Generali Philippines</option>
                    <option value="manulife">Manulife Philippines</option>
                    <option value="mapfre">MAPFRE Life</option>
                    <option value="philamlife">Philam Life</option>
                    <option value="pru">Prudential Life Insurance Co.</option>
                    <option value="sunlife">Sun Life of New York (Philippines)</option>
                    <option value="tataaig">Tata AIG Life</option>
                    <option value="otherCompany">Other (please specify)</option>
                </select>

                <div id="otherCompanyField" style="display:none; margin-top:15px;">
                    <label for="otherCompany">Please specify the insurance company</label>
                    <input type="text" id="otherCompany" name="otherCompany" placeholder="e.g. XYZ Insurance Corp." />
                </div>

                <label for="productName">Product Name/Type <span class="required">*</span></label>
                <input type="text" id="productName" name="productName"
                    placeholder="e.g. Wealth Builder VUL, Secure Future Plan" required />

                <label for="issueDate">Policy Issue Date <span class="required">*</span></label>
                <input type="date" id="issueDate" name="issueDate" required />

                <label for="currentFaceAmount">Current Face Amount / Death Benefit (₱) <span
                        class="required">*</span></label>
                <input type="number" id="currentFaceAmount" name="currentFaceAmount" min="0" step="1000"
                    placeholder="e.g. 1000000" required />

                <label for="originalFaceAmount">Original Face Amount (if different)</label>
                <input type="number" id="originalFaceAmount" name="originalFaceAmount" min="0" step="1000"
                    placeholder="e.g. 1500000" />
            </fieldset>

            <!-- Policy History -->
            <fieldset id="section-history">
                <div class="error-indicator">Missing Info</div>
                <legend>Policy History</legend>
                <label for="yearsInForce">Years Policy Has Been In Force <span class="required">*</span></label>
                <input type="number" id="yearsInForce" name="yearsInForce" min="0" placeholder="e.g. 8" required />

                <label for="totalPremiumsPaid">Total Premiums Paid to Date (₱) <span class="required">*</span></label>
                <input type="number" id="totalPremiumsPaid" name="totalPremiumsPaid" min="0" step="100"
                    placeholder="e.g. 800000" required />

                <label for="premiumFrequency">Premium Payment Frequency <span class="required">*</span></label>
                <select id="premiumFrequency" name="premiumFrequency" required>
                    <option value="">-- Select Frequency --</option>
                    <option value="annual">Annual</option>
                    <option value="semi-annual">Semi-Annual</option>
                    <option value="quarterly">Quarterly</option>
                    <option value="monthly">Monthly</option>
                </select>

                <label for="currentPremium">Current Annual Premium Amount (₱) <span class="required">*</span></label>
                <input type="number" id="currentPremium" name="currentPremium" min="0" step="100"
                    placeholder="e.g. 100000" required />
            </fieldset>

            <!-- Financial Impact Assessment -->
            <fieldset id="section-financial">
                <div class="error-indicator">Missing Info</div>
                <legend>Policy & Financial Context</legend>
                <label for="cashSurrenderValue">Current Cash Surrender Value (₱) <span class="required">*</span></label>
                <input type="number" id="cashSurrenderValue" name="cashSurrenderValue" min="0" step="100"
                    placeholder="e.g. 300000" required />

                <label for="netCashValue">Current Net Cash Value (after loans/fees) (₱)</label>
                <input type="number" id="netCashValue" name="netCashValue" min="0" step="100"
                    placeholder="e.g. 220000" />

                <label>
                    Do you still have a financial planning need that this VUL policy could help meet?
                    (e.g., estate planning, legacy transfer, tax-efficient savings) <span class="required">*</span>
                </label>
                <div class="checkbox-group" id="ongoingNeedGroup">
                    <div class="checkbox-item">
                        <input type="radio" name="ongoingNeed" value="yes" id="ongoing_yes" required> 
                        <label for="ongoing_yes" style="display: inline; margin: 0;">Yes</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="radio" name="ongoingNeed" value="no" id="ongoing_no"> 
                        <label for="ongoing_no" style="display: inline; margin: 0;">No</label>
                    </div>
                </div>
                <div id="needExplanation" style="display:none; margin-top:10px;">
                    <label for="needDetails">Please explain your current planning need:</label>
                    <textarea id="needDetails" name="needDetails" rows="3"
                        placeholder="e.g. I want to leave an inheritance for my children"></textarea>
                </div>

                <label>
                    Are you open to exploring ways to restructure your policy for better affordability, lower costs, or
                    improved living benefits? <span class="required">*</span>
                </label>
                <div class="checkbox-group" id="restructureGroup">
                    <div class="checkbox-item">
                        <input type="radio" name="openToRestructure" value="yes" id="restructure_yes" required> 
                        <label for="restructure_yes" style="display: inline; margin: 0;">Yes</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="radio" name="openToRestructure" value="no" id="restructure_no"> 
                        <label for="restructure_no" style="display: inline; margin: 0;">No</label>
                    </div>
                </div>

                <label>If yes, which improvements would be most beneficial? (Check all that apply)</label>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="shorterPayPeriod" id="goal1">
                        <label for="goal1" style="display: inline; margin: 0;">Shorter premium payment period (e.g., 5-Pay or 10-Pay option)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="removeRiders" id="goal2">
                        <label for="goal2" style="display: inline; margin: 0;">Remove unnecessary riders to reduce costs</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="reduceDeathBenefit" id="goal3">
                        <label for="goal3" style="display: inline; margin: 0;">Reduce death benefit to lower insurance charges</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="increaseLivingBenefits" id="goal4">
                        <label for="goal4" style="display: inline; margin: 0;">Focus more on living benefits and cash accumulation</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="lowerAnnualPremium" id="goal5">
                        <label for="goal5" style="display: inline; margin: 0;">Lower annual premium (for long-term sustainability)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="betterFundAccess" id="goal6">
                        <label for="goal6" style="display: inline; margin: 0;">Better fund allocation options with lower fees</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="restructureGoals" value="other" id="goal_other">
                        <label for="goal_other" style="display: inline; margin: 0;">Other:</label>
                        <input type="text" name="otherRestructureGoal" placeholder="Specify"
                            style="width: 200px; font-size: 0.9rem; margin-left: 10px;">
                    </div>
                </div>

                <label for="affordablePremium">Target Annual Premium Level (affordable to you): ₱</label>
                <input type="number" id="affordablePremium" name="affordablePremium" min="0" step="1000"
                    placeholder="e.g. 50000" />

                <label>What was your original purpose for purchasing this policy? <span
                        class="required">*</span></label>
                <div class="checkbox-group" id="originalPurposeGroup">
                    <div class="checkbox-item">
                        <input type="checkbox" name="originalPurpose" value="investment" id="purpose1">
                        <label for="purpose1" style="display: inline; margin: 0;">Investment/Savings</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="originalPurpose" value="estate" id="purpose2">
                        <label for="purpose2" style="display: inline; margin: 0;">Estate Planning</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="originalPurpose" value="legacy" id="purpose3">
                        <label for="purpose3" style="display: inline; margin: 0;">Legacy Planning</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="originalPurpose" value="tax" id="purpose4">
                        <label for="purpose4" style="display: inline; margin: 0;">Tax Planning</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="originalPurpose" value="other" id="purpose_other">
                        <label for="purpose_other" style="display: inline; margin: 0;">Other:</label>
                        <input type="text" name="otherPurpose" placeholder="Specify"
                            style="width: 200px; font-size: 0.9rem; margin-left: 10px;">
                    </div>
                </div>

                <label>How was the policy presented to you at time of sale? (Check all that apply) <span
                        class="required">*</span></label>
                <div class="checkbox-group" id="salePresentationGroup">
                    <div class="checkbox-item">
                        <input type="checkbox" name="salePresentation" value="investmentVehicle" id="sale1">
                        <label for="sale1" style="display: inline; margin: 0;">Long-term investment vehicle</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="salePresentation" value="selfFinancing" id="sale2">
                        <label for="sale2" style="display: inline; margin: 0;">Self-financing policy</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="salePresentation" value="cashTool" id="sale3">
                        <label for="sale3" style="display: inline; margin: 0;">Cash accumulation tool</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="salePresentation" value="insurance" id="sale4">
                        <label for="sale4" style="display: inline; margin: 0;">Insurance protection</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="salePresentation" value="taxAdvantaged" id="sale5">
                        <label for="sale5" style="display: inline; margin: 0;">Tax-advantaged savings</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="salePresentation" value="otherSale" id="sale_other">
                        <label for="sale_other" style="display: inline; margin: 0;">Other:</label>
                        <input type="text" name="otherSale" placeholder="Specify"
                            style="width: 200px; font-size: 0.9rem; margin-left: 10px;">
                    </div>
                </div>
            </fieldset>

            <!-- Document Instructions -->
            <fieldset id="section-documents">
                <legend>Required Documents</legend>
                <p><strong>Do not upload files here.</strong> After submitting this form, please email the following
                    documents to:
                </p>

                <div class="email-instructions">
                    <strong>Email to:</strong> <a
                        href="mailto:reliable.resource.02@gmail.com">reliable.resource.02@gmail.com</a><br>
                    <strong>Subject:</strong> VUL Review – [Your Full Name] – [Last 4 Digits of Policy]</br><br>

                    <strong>Attach these REDACTED documents:</strong>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>Most Recent Policy Statement</li>
                        <li>Copy of Policy Illustration / Projection</li>
                        <li>Fund Performance Summary</li>
                        <li>Premium Payment History (if available)</li>
                    </ul>

                    <strong>❗ Redaction Required – Please remove or black out:</strong>
                    <ul style="margin: 10px 0; padding-left: 20px;">
                        <li>Full policy number</li>
                        <li>Bank account or EFT details</li>
                        <li>Social Security / TIN / ID numbers</li>
                        <li>Third-party personal information (e.g., beneficiaries' full details)</li>
                        <li>Signatures</li>
                    </ul>

                    <p style="font-size: 0.95rem; color: #d32f2f; margin: 10px 0;">
                        <strong>⚠️ Important:</strong> Do not send unredacted copies. We will not accept documents with
                        sensitive
                        personal data visible.
                    </p>
                </div>
            </fieldset>

            <!-- Declarations -->
            <fieldset id="section-consent">
                <div class="error-indicator">Missing Info</div>
                <legend>Your Consent</legend>
                <p>I confirm that:</p>
                <div class="checkbox-group" id="declarationGroup">
                    <div class="checkbox-item">
                        <input type="checkbox" name="declaration" value="ownership" id="decl1" required>
                        <label for="decl1" style="display: inline; margin: 0;">I am the legal owner of the policy described above</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="declaration" value="truth" id="decl2" required>
                        <label for="decl2" style="display: inline; margin: 0;">The information provided is accurate to the best of my knowledge</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="declaration" value="noFraud" id="decl3" required>
                        <label for="decl3" style="display: inline; margin: 0;">I have not engaged in misrepresentation or abuse of the policy</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" name="declaration" value="consentReview" id="decl4" required>
                        <label for="decl4" style="display: inline; margin: 0;">I consent to a professional review of my policy and financial context</label>
                    </div>
                </div>
            </fieldset>

            <button type="submit" id="submitBtn">Submit for Review</button>

            <!-- Final Disclaimer -->
            <div class="disclaimer">
                <p><strong>Privacy Notice:</strong> All submissions are confidential and used only for policy analysis.
                    Documents will not be shared with third parties or used for marketing.</p>
                <p><strong>Disclosure:</strong> The Policy Equity Initiative is a privately funded project by R2
                    Solutions, an independent firm. It is not affiliated with any insurance company, regulator, or
                    financial advisor. This initiative does not provide financial advice or investment services.</p>
            </div>

        </form>
    </div>

    <script>
        // Section validation mapping
        const sectionValidation = {
            'section-applicant': {
                name: 'Applicant Information',
                validators: [
                    () => document.getElementById('fullName').value.trim() !== '',
                    () => document.querySelector('input[name="preferredContact"]:checked') !== null,
                    () => {
                        const contactMethod = document.querySelector('input[name="preferredContact"]:checked');
                        if (!contactMethod) return false;
                        const contactInput = document.getElementById('contactInput');
                        return !contactInput.required || contactInput.value.trim() !== '';
                    }
                ]
            },
            'section-provider': {
                name: 'Preferred Insurance Provider',
                validators: [
                    () => document.getElementById('preferredProvider').value !== '',
                    () => {
                        const provider = document.getElementById('preferredProvider').value;
                        const otherInput = document.getElementById('otherProvider');
                        return provider !== 'other' || otherInput.value.trim() !== '';
                    }
                ]
            },
            'section-policy': {
                name: 'Policy Information',
                validators: [
                    () => document.getElementById('insuranceCompany').value !== '',
                    () => {
                        const company = document.getElementById('insuranceCompany').value;
                        const otherInput = document.getElementById('otherCompany');
                        return company !== 'otherCompany' || otherInput.value.trim() !== '';
                    },
                    () => document.getElementById('productName').value.trim() !== '',
                    () => document.getElementById('issueDate').value !== '',
                    () => document.getElementById('currentFaceAmount').value !== ''
                ]
            },
            'section-history': {
                name: 'Policy History',
                validators: [
                    () => document.getElementById('yearsInForce').value !== '',
                    () => document.getElementById('totalPremiumsPaid').value !== '',
                    () => document.getElementById('premiumFrequency').value !== '',
                    () => document.getElementById('currentPremium').value !== ''
                ]
            },
            'section-financial': {
                name: 'Policy & Financial Context',
                validators: [
                    () => document.getElementById('cashSurrenderValue').value !== '',
                    () => document.querySelector('input[name="ongoingNeed"]:checked') !== null,
                    () => document.querySelector('input[name="openToRestructure"]:checked') !== null,
                    () => document.querySelectorAll('input[name="originalPurpose"]:checked').length > 0,
                    () => document.querySelectorAll('input[name="salePresentation"]:checked').length > 0
                ]
            },
            'section-consent': {
                name: 'Your Consent',
                validators: [
                    () => document.querySelectorAll('input[name="declaration"]:checked').length === 4
                ]
            }
        };

        // Show contact field based on method
        function showContactField() {
            const method = document.querySelector('input[name="preferredContact"]:checked')?.value;
            const container = document.getElementById('contactField');
            const label = document.getElementById('contactLabel');
            const input = document.getElementById('contactInput');

            if (method === 'email') {
                label.textContent = 'Email Address *';
                input.type = 'email';
                input.placeholder = 'e.g. maria.santos@email.com';
                input.required = true;
                container.style.display = 'block';
            } else if (method === 'phone') {
                label.textContent = 'Phone Number *';
                input.type = 'text';
                input.placeholder = 'e.g. 09123456789';
                input.required = true;
                container.style.display = 'block';
            } else if (method === 'mail') {
                label.textContent = 'Mailing Address (for correspondence) *';
                input.type = 'text';
                input.placeholder = 'e.g. 123 Main St, Makati City';
                input.required = true;
                container.style.display = 'block';
            } else {
                container.style.display = 'none';
                input.required = false;
            }
        }

        // Show other provider field
        function showOtherProviderField() {
            const select = document.getElementById('preferredProvider');
            const otherField = document.getElementById('otherProviderField');
            const otherInput = document.getElementById('otherProvider');
            
            if (select.value === 'other') {
                otherField.style.display = 'block';
                otherInput.required = true;
            } else {
                otherField.style.display = 'none';
                otherInput.required = false;
            }
        }

        // Show other company field
        function showOtherCompanyField() {
            const select = document.getElementById('insuranceCompany');
            const otherField = document.getElementById('otherCompanyField');
            const otherInput = document.getElementById('otherCompany');
            
            if (select.value === 'otherCompany') {
                otherField.style.display = 'block';
                otherInput.required = true;
            } else {
                otherField.style.display = 'none';
                otherInput.required = false;
            }
        }

        // Show/hide conditional fields
        function showNeedExplanation() {
            const yesRadio = document.getElementById('ongoing_yes');
            const container = document.getElementById('needExplanation');
            
            if (yesRadio.checked) {
                container.style.display = 'block';
            } else {
                container.style.display = 'none';
            }
        }

        // Validate individual section
        function validateSection(sectionId) {
            const section = sectionValidation[sectionId];
            if (!section) return true;

            const isValid = section.validators.every(validator => validator());
            const fieldset = document.getElementById(sectionId);
            
            if (isValid) {
                fieldset.classList.remove('error');
            } else {
                fieldset.classList.add('error');
            }
            
            return isValid;
        }

        // Comprehensive form validation
        function validateForm() {
            const errorMessage = document.getElementById('errorMessage');
            const errorList = document.getElementById('errorList');
            const invalidSections = [];

            // Clear previous errors
            errorMessage.style.display = 'none';
            errorList.innerHTML = '';
            document.querySelectorAll('fieldset').forEach(fs => fs.classList.remove('error'));

            // Validate each section
            Object.keys(sectionValidation).forEach(sectionId => {
                if (!validateSection(sectionId)) {
                    invalidSections.push({
                        id: sectionId,
                        name: sectionValidation[sectionId].name
                    });
                }
            });

            if (invalidSections.length > 0) {
                // Show error message with clickable sections
                invalidSections.forEach(section => {
                    const li = document.createElement('li');
                    li.textContent = section.name;
                    li.onclick = () => scrollToSection(section.id);
                    errorList.appendChild(li);
                });
                
                errorMessage.style.display = 'block';
                errorMessage.scrollIntoView({ behavior: 'smooth' });
                return false;
            }

            return true;
        }

        // Scroll to specific section
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                // Highlight the section briefly
                section.style.boxShadow = '0 0 20px rgba(26, 61, 109, 0.3)';
                setTimeout(() => {
                    section.style.boxShadow = '0 4px 10px rgba(0, 0, 0, 0.1)';
                }, 2000);
            }
        }

        // Real-time validation as user types/selects
        function addRealTimeValidation() {
            // Add listeners to all form inputs
            document.querySelectorAll('input, select, textarea').forEach(input => {
                input.addEventListener('change', () => {
                    const section = input.closest('fieldset');
                    if (section && section.id) {
                        // Small delay to allow for conditional field updates
                        setTimeout(() => validateSection(section.id), 100);
                    }
                });

                input.addEventListener('input', () => {
                    const section = input.closest('fieldset');
                    if (section && section.id) {
                        setTimeout(() => validateSection(section.id), 100);
                    }
                });
            });
        }

        // Handle form submission
        document.getElementById('vulReviewForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Clean formatted numbers before validation and submission
            cleanFormDataForSubmission();
            
            // Validate form first
            if (!validateForm()) {
                return;
            }

            const form = this;
            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.textContent;
            
            // Show loading state
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;

            // Prepare form data
            const formData = new FormData(form);

            // Submit to Formspree
            fetch(form.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    // Success - show thank you message
                    document.getElementById('successMessage').style.display = 'block';
                    form.style.display = 'none';
                    document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                const errorMessage = document.getElementById('errorMessage');
                const errorList = document.getElementById('errorList');
                errorList.innerHTML = '<li>There was a problem submitting your form. Please try again or contact us directly at reliable.resource.02@gmail.com</li>';
                errorMessage.style.display = 'block';
                errorMessage.scrollIntoView({ behavior: 'smooth' });
            })
            .finally(() => {
                // Reset button
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            });
        });

        // Number formatting functions
        function formatNumber(num) {
            if (!num) return '';
            // Remove any existing commas and convert to number
            const cleanNum = parseFloat(num.toString().replace(/,/g, ''));
            if (isNaN(cleanNum)) return num;
            
            // Format with commas and 2 decimal places
            return cleanNum.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        function parseNumber(formattedNum) {
            if (!formattedNum) return '';
            // Remove commas and return clean number
            return formattedNum.toString().replace(/,/g, '');
        }

        function addNumberFormatting() {
            // Get all number inputs that should be formatted (currency fields)
            const currencyFields = [
                'currentFaceAmount',
                'originalFaceAmount', 
                'totalPremiumsPaid',
                'currentPremium',
                'cashSurrenderValue',
                'netCashValue',
                'affordablePremium'
            ];

            currencyFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field) return;

                // Format on blur (when user leaves the field)
                field.addEventListener('blur', function() {
                    if (this.value) {
                        const cleanValue = parseNumber(this.value);
                        const numValue = parseFloat(cleanValue);
                        if (!isNaN(numValue) && numValue > 0) {
                            this.value = formatNumber(cleanValue);
                        }
                    }
                });

                // Clean format on focus (when user clicks into field)
                field.addEventListener('focus', function() {
                    if (this.value) {
                        this.value = parseNumber(this.value);
                    }
                });

                // Prevent non-numeric input while typing
                field.addEventListener('input', function(e) {
                    // Allow only numbers, backspace, delete, and decimal points
                    let value = this.value.replace(/[^0-9.]/g, '');
                    
                    // Ensure only one decimal point
                    const decimalCount = (value.match(/\./g) || []).length;
                    if (decimalCount > 1) {
                        value = value.substring(0, value.lastIndexOf('.'));
                    }
                    
                    // Limit to 2 decimal places
                    if (value.includes('.')) {
                        const parts = value.split('.');
                        if (parts[1] && parts[1].length > 2) {
                            value = parts[0] + '.' + parts[1].substring(0, 2);
                        }
                    }
                    
                    this.value = value;
                });

                // Handle paste events
                field.addEventListener('paste', function(e) {
                    e.preventDefault();
                    const pastedText = (e.clipboardData || window.clipboardData).getData('text');
                    const cleanValue = pastedText.replace(/[^0-9.]/g, '');
                    const numValue = parseFloat(cleanValue);
                    if (!isNaN(numValue)) {
                        this.value = cleanValue;
                        this.dispatchEvent(new Event('input'));
                    }
                });
            });
        }

        // Override form submission to clean number formats
        function cleanFormDataForSubmission() {
            const currencyFields = [
                'currentFaceAmount',
                'originalFaceAmount', 
                'totalPremiumsPaid',
                'currentPremium',
                'cashSurrenderValue',
                'netCashValue',
                'affordablePremium'
            ];

            currencyFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field && field.value) {
                    field.value = parseNumber(field.value);
                }
            });
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            // Set up event listeners
            document.querySelectorAll('input[name="preferredContact"]').forEach(radio => {
                radio.addEventListener('change', showContactField);
            });

            document.getElementById('preferredProvider').addEventListener('change', showOtherProviderField);
            document.getElementById('insuranceCompany').addEventListener('change', showOtherCompanyField);

            // Add event listeners for ongoing need radio buttons
            document.querySelectorAll('input[name="ongoingNeed"]').forEach(radio => {
                radio.addEventListener('change', showNeedExplanation);
            });

            // Initialize hidden fields
            document.getElementById('contactField').style.display = 'none';
            document.getElementById('otherProviderField').style.display = 'none';
            document.getElementById('otherCompanyField').style.display = 'none';
            document.getElementById('needExplanation').style.display = 'none';

            // Add real-time validation
            addRealTimeValidation();
            
            // Add number formatting
            addNumberFormatting();
        });
    </script>

</body>

</html>
